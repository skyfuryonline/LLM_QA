## [竞赛链接](https://tianchi.aliyun.com/competition/entrance/532172/information)
## 赛事简介
欢迎加入“基于LLM智能问答系统学习赛”，本赛题由本赛题由“博金大模型挑战赛·初级挑战”大赛延伸而来，现开放长期练习赛季，供大家学习。随着人工智能和数字化技术在金融领域的日益广泛应用，本次赛事旨在汇集全国技术精英，共同探索大语言模型在金融科技中的应用潜力。基金研究领域带来革命性创新的您而策划。

## 赛事亮点
1. 赛题融合了Agent理念的应用挑战
未来金融科技领域将深刻体现Agent的价值，即一个智能代理能根据用户需求进行意图识别和决策。本次大赛的赛题虽为单一，但融合了数据查询与文本理解两大任务，充分体现了Agent核心思想：根据不确定输入，判断用户意图，并调用相应服务或功能生成答案。

2. 模型应用
不限制选手的模型使用，选手可以选择商业化模型或者开源模型，也可以结合多个模型，共同创建一个问答系统。可以采用Prompt Engineering方法，也可以使用外部数据对模型进行微调。
推荐使用“通义千问金融大模型”或“通义千问7B模型”作为基础大模型，

3. 数据查询题挑战
- 任务目标：根据用户的问题，生成相应的SQL查询语句，精准查询问题结果。
- 技术难题：处理多表之间的复杂关联，如理解基金股票持仓明细与A股日行情表的连接，并确保查询的高准确性。
4. 文本理解题挑战
- 任务目标：对长文本进行细致检索与解读，高效提取关键信息。
- 技术难题：处理长文本的复杂结构，确保信息完整性。对超长文本，选手需合理分块，并从文档分块中准确提炼答案。
5. 方案开源
博金大模型挑战赛已经积累了不少优秀选手的方案，并开源到Github社区-FinQwen主页，期待各位参与学习赛的选手能够再创佳绩，以及参与到社区贡献中来，欢迎提交代码方案和说明文档到Github主页。

## 竞赛任务
本次比赛要求选手基于大语言模型LLM构建一个问答系统，问答内容涉及基金/股票/债券/招股书等不同数据来源。不限制选手的模型使用，选手可以选择商业化模型或者开源模型，可以结合多个模型，可以采用公开访问的外部数据进行微调模型，也可以采用LangChain、向量数据库等相关技术。
为减轻选手数据清洗的负担，本次比赛由主办方提供相应的结构化数据和文本数据，如涉及PDF文本，会将解析好的数据以txt的方式进行保存，并提供下载链接。
本次比赛赛题为统一的问题格式，但包含两类任务，数据查询任务和文本理解任务，分别考察选手基于大语言模型的结构化数据检索能力和长文本理解能力，赛事主办方并不会提供任务的具体类型，选手需要自行判断任务的类别，采用不同的技术方案，或者同时构建查询任务并汇总结果。

## 评测方式
选手报名成功后，参赛队伍通过modelscope下载数据和评测样本，并在本地调试算法，在线提交结果。在学习赛期间，赛事主办方会提供全部评测问题，选手需回答这些问题并提交结果进行评测。在此期间，选手可以利用外部数据对模型进行增强。
在评测系统开启后，选手本地推理完成后，提交初赛题目答案到平台进行评测（提交格式具体请参考“提交指南”），线上自动评测得出成绩结果。每个队伍每天的提交次数限制为10次，排行榜将选择参赛队伍在本阶段的历史最优成绩进行排名展示。排行榜在比赛期间每小时更新一次，按照评估指标从高到低进行排序。

## 数据说明
在比赛开始阶段，赛事主办方会为参赛选手提供比赛涉及的全部结构化数据和文本数据，包括10张基金表数据和80篇招股书文档，比赛所有问题的答案均可在数据中查询得到。

## 基金数据
博金杯比赛数据.db

大小：1.46G
文件格式：sqllite db文件
文件数量：1
时间跨度：2019年-2021年
数据表说明：
- 基金基本信息
- 基金股票持仓明细
- 基金债券持仓明细
- 基金可转债持仓明细
- 基金日行情表
- A股票日行情表
- 港股票日行情表
- A股公司行业划分表
- 基金规模变动表
- 基金份额持有人结构
招股书数据
招股说明书 pdf源文件

大小：527MB
文件格式：pdf文件
文件数量：80
招股说明书 pdf解析后的txt文件

大小：44MB
文件格式：txt文件
文件数量：80
赛事题目
比赛题目question.jsonl，包含1000道测试题目，以jsonl文件提供，初复赛题目格式保持一致。

## 测试数据
```angular2svg
{"id": 0, "question": "景顺长城中短债债券C基金在20210331的季报里，前三大持仓占比的债券名称是什么?"}
{"id": 1, "question": "上海华铭智能终端设备股份有限公司的首发战略配售结果如何？"}
```
选手需要补全answer字段进行答案提交，提交格式为jsonl文件，参赛选手请勿修改id信息，该项信息用于结果匹配和评价；
下载方式
## 要求安装 git lfs
```angular2svg
git clone https://www.modelscope.cn/datasets/BJQW14B/bs_challenge_financial_14b_dataset.git
```
基金数据：./dataset/博金杯比赛数据.db
招股书数据：./pdf和./pdf_txt_file
赛题题目：./question.jsonl
提交指南
提交格式
结果文件命名为"submit_result.jsonl"，以utf-8编码保存。该文件每一行对应一个问题，格式为json格式，回答请包含"id", "question", "answer"，选手额外提交的字段信息，将不纳入评价标准。
提交文件示例：
```angular2svg
{"id": 0, "question": "景顺长城中短债债券C基金在20210331的季报里，前三大持仓占比的债券名称是什么?", "answer": "景顺长城中短债债券C在20210331的季报中，前三大持仓占比的债券名称分别是21国开01、20农发清发01、20国信03。"}
{"id": 1, "question": "上海华铭智能终端设备股份有限公司的首发战略配售结果如何？", "answer": "上海华铭智能终端设备股份有限公司的首发战略配售具体情况并未在招股意向书中详细说明。"}
```
```angular2svg
# id：题目编号；
# question：问题描述；
# answer：自然语言回答；
# python jsonl读写代码参考示例：

import jsonlines

def read_jsonl(path):
    content = []
    with jsonlines.open(path, "r") as json_file:
        for obj in json_file.iter(type=dict, skip_invalid=True):
            content.append(obj)
    return content


def write_jsonl(path, content):
    with jsonlines.open(path, "w") as json_file:
        json_file.write_all(content)
```

## 注意事项
不限制模型使用，参赛者自行负责比赛过程中的模型与数据安全，不得侵犯任何第三方的合法权益；
参赛选手的技术方案的知识产权归属于参赛选手，建议参赛选手在魔搭和Github社区开源参赛的模型、数据和代码方案；
参赛选手的模型和数据集
- 数据集下载地址https://www.modelscope.cn/datasets/BJQW14B/bs_challenge_financial_14b_dataset/summary
- 比赛参考方案：https://github.com/TowardSun/FinQwen
- 推荐使用模型下载地址：https://modelscope.cn/organization/TongyiFinance
https://modelscope.cn/models/qwen/Qwen-7B-Chat/summary